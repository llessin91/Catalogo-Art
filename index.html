<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>CatÃ¡logo de Artefatos</title>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
body {
  background:#0e0e0e;
  color:#eee;
  font-family:Arial, sans-serif;
  padding:20px;
}

.catalogo {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:20px;
}

.card {
  background:#151515;
  border:2px solid #444;
  padding:15px;
}

.card img {
  width:100%;
  height:200px;
  object-fit:cover;
  margin-bottom:10px;
}

.preco {
  font-weight:bold;
  margin:5px 0 10px;
}

.tier-1 { border-color:#777; }
.tier-1 h3, .tier-1 .tier { color:#bdbdbd; }

.tier-2 { border-color:#2ecc71; }
.tier-2 h3, .tier-2 .tier { color:#2ecc71; }

.tier-3 { border-color:#9b59b6; }
.tier-3 h3, .tier-3 .tier { color:#9b59b6; }

.tier-4 {
  border-color:#ffd700;
  box-shadow:0 0 15px rgba(255,215,0,0.7);
}
.tier-4 h3, .tier-4 .tier { color:#ffd700; }

.tier {
  font-weight:bold;
  margin-bottom:8px;
}
</style>
</head>

<body>

<h1>ðŸ“¦ CatÃ¡logo de Artefatos</h1>
<div class="catalogo" id="catalogo"></div>

<script>
const SUPABASE_URL = "https://fkvtgxhjfyqsgkrioshl.supabase.co";
const SUPABASE_KEY = "sb_publishable_dsLAOlB2Cc2EtG6IUZz43w_Qq8xJF4B";

/* âš ï¸ APENAS UMA DECLARAÃ‡ÃƒO */
const supabase = window.supabase.createClient(
  SUPABASE_URL,
  SUPABASE_KEY
);

async function carregarCatalogo() {
  const { data, error } = await supabase
    .from("artefatos")
    .select("*");

  if (error) {
    console.error("Erro:", error);
    return;
  }

  const catalogo = document.getElementById("catalogo");
  catalogo.innerHTML = "";

  data.forEach(a => {
    catalogo.innerHTML += `
      <div class="card tier-${a.tier}">
        <img src="${a.imagem}">
        <h3>${a.nome}</h3>
        <div class="tier">Tier ${a.tier}</div>
        <div class="preco">ðŸ’° ${a.preco}</div>
        <p><b>âž• Efeitos Positivos</b><br>${a.efeitos_positivos}</p>
        <p><b>âž– Efeitos Negativos</b><br>${a.efeitos_negativos}</p>
      </div>
    `;
  });
}

carregarCatalogo();
</script>

</body>
</html>
